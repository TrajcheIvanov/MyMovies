@model List<MyMovies.ViewModels.ManageUserModel>

@{
    ViewBag.Title = "Manage Users";
}

<br />
@if (ViewBag.ErrorMessage != null)
{
    <div class="alert alert-danger" role="alert">
        @ViewBag.ErrorMessage
    </div>
}

@if (ViewBag.SuccessMessage != null)
{
    <div class="alert alert-success" role="alert">
         @ViewBag.SuccessMessage
    </div>
}
<br />
<div class="row">
    <table class="table table-dark">
        <thead>
            <tr>
                <th scope="col">Id</th>
                <th scope="col">Username</th>
                <th scope="col">Is Administrator</th>
                <th scope="col"></th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in Model)
            {
                <tr>
                    <th scope="row">@user.Id</th>
                    <td>@user.Username</td>
                    <td>
                        @if (user.IsAdministrator)
                        {
                            <a href="/Users/ToggleAdmin/@user.Id" class="btn btn-warning">Remove Admin permission</a>
                        }
                        else
                        {
                            <a href="/Users/ToggleAdmin/@user.Id" class="btn btn-success">Add Admin permission</a>
                        }
                    </td>
                    <td><a href="/Users/Delete/@user.Id" class="btn btn-danger" onclick="return confirm('Are you sure?')">Delete User</a></td>
                </tr>
            }
        </tbody>
    </table>
</div>